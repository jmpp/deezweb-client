(function(t){function e(e){for(var r,i,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)i=o[m],s[i]&&d.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/deezweb-client/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("64a9"),s=a.n(r);s.a},"08a2":function(t,e,a){"use strict";var r=a("dfc6"),s=a.n(r);s.a},"31e4":function(t,e,a){"use strict";var r=a("8b5c"),s=a.n(r);s.a},"3b8f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("dz-navbar"),a("router-view")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg sticky-top navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[a("i",{staticClass:"fa fa-headphones"}),t._v(" Deezweb\n  ")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[a("div",{staticClass:"navbar-nav nav-right"},[t.loggedUser?[a("router-link",{staticClass:"nav-item nav-link active",attrs:{to:"/search"}},[a("i",{staticClass:"fa fa-search"}),t._v(" Recherche\n        ")]),a("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/favorites"}},[a("i",{staticClass:"fa fa-heart"}),t._v(" Mes favoris\n        ")]),a("div",{staticClass:"nav-item dropleft"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{id:"userMenu",role:"button","data-toggle":"dropdown"}},[a("img",{attrs:{src:t.loggedUser.avatar,alt:t.loggedUser.firstname,width:"28",height:"28"}})]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"userMenu"}},[a("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.loggedUser.firstname)+" "+t._s(t.loggedUser.lastname))]),a("a",{staticClass:"dropdown-item",attrs:{href:"account.html"}},[t._v("Mon compte")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/logout"}},[t._v("\n              Déconnexion\n            ")])],1)])]:[a("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/login"}},[a("i",{staticClass:"fa fa-sign-in"}),t._v(" Connexion\n        ")]),a("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/register"}},[a("i",{staticClass:"fa fa-user-plus"}),t._v(" Inscription\n        ")])]],2)])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l={name:"DzNavbar",computed:{loggedUser:function(){return this.$store.state.loggedUser}}},c=l,u=(a("08a2"),a("2877")),m=Object(u["a"])(c,i,o,!1,null,"1132369b",null);m.options.__file="DzNavbar.vue";var d=m.exports,v={name:"App",components:{DzNavbar:d},created:function(){var t=localStorage.getItem("deezweb-auth-jwt");null!==t&&this.$store.dispatch("logUserWithToken",t)}},p=v,f=(a("034f"),Object(u["a"])(p,s,n,!1,null,null,null));f.options.__file="App.vue";var h=f.exports,g=(a("a481"),a("8c4f")),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("main",{staticClass:"container"},[a("div",{staticClass:"jumbotron"},[a("h1",[t._v("Bienvenue !")]),a("p",{staticClass:"lead"},[t._v("L'application d'écoute et de gestion de musique gratuite, via le catalogue Deezer !")]),a("hr",{staticClass:"my-4"}),a("p",[t._v("Ecoutez gratuitement des extraits issus de la base de données de Deezer, et organisez vos favoris sur votre compte personnel !")]),a("div",{staticClass:"text-center"},[null===t.$store.state.loggedUser?[a("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:"/register",role:"button"}},[t._v("Je m'inscris")]),a("router-link",{staticClass:"btn btn-info btn-lg",attrs:{to:"/login",role:"button"}},[t._v("Je me connecte")])]:[a("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:"/search",role:"button"}},[t._v("Démarrer une recherche")])]],2)])])])},_=[],C={name:"home"},k=C,w=Object(u["a"])(k,b,_,!1,null,null,null);w.options.__file="Home.vue";var x=w.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container"},[a("h1",[t._v("Connexion")]),t.error?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.error)+"\n  ")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.logUser(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Adresse email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"john.smith@domain.tld"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"************"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Se connecter")])]),a("p",{staticClass:"mt-3"},[a("router-link",{attrs:{to:"/register"}},[t._v("Je n'ai pas de compte")])],1)])},j=[],A=(a("7f7f"),a("bc3a")),F=a.n(A),O="https://deezweb.herokuapp.com",U={login:function(t,e){return F.a.post("".concat(O,"/login"),{email:t,password:e}).then(function(t){return t.data}).catch(function(t){return Promise.reject(t.response.data)})},authenticate:function(t){return F.a.get("".concat(O,"/auth"),{params:{token:t}}).then(function(t){return t.data}).catch(function(t){return Promise.reject(t.response.data)})},addFavorite:function(t){return F()({method:"post",url:"".concat(O,"/favorite"),data:{track:{id:t.id,title:t.title,artist:{name:t.artist.name},album:{title:t.album.title,cover:t.album.cover}}},headers:{Authorization:"Bearer ".concat(localStorage.getItem("deezweb-auth-jwt"))}})},removeFavorite:function(t){return F()({method:"delete",url:"".concat(O,"/favorite/").concat(t.id),headers:{Authorization:"Bearer ".concat(localStorage.getItem("deezweb-auth-jwt"))}})}},S={name:"Login",data:function(){return{email:"",password:"",error:null}},methods:{logUser:function(){var t=this;this.error=null,U.login(this.email,this.password).then(function(t){var e=t.token;return localStorage.setItem("deezweb-auth-jwt",e),e}).then(function(e){return t.$store.dispatch("logUserWithToken",e)}).then(function(){t.$router.push("search")}).catch(function(e){t.error=e})}}},T=S,z=Object(u["a"])(T,y,j,!1,null,null,null);z.options.__file="Login.vue";var $=z.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container"},[a("h1",[t._v("Inscription")]),t.errors?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n    Des erreurs ont été rencontrées :\n    "),a("ul",t._l(t.errors,function(e,r){return a("li",{key:r},[t._v(t._s(e))])}))]):t._e(),t.success?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.success)+"\n  ")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.registerUser(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nom"}},[t._v("Nom")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nom,expression:"nom"}],staticClass:"form-control",attrs:{type:"nom",id:"nom",placeholder:"SMITH"},domProps:{value:t.nom},on:{input:function(e){e.target.composing||(t.nom=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"prenom"}},[t._v("Prénom")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.prenom,expression:"prenom"}],staticClass:"form-control",attrs:{type:"prenom",id:"prenom",placeholder:"John"},domProps:{value:t.prenom},on:{input:function(e){e.target.composing||(t.prenom=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Adresse email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"john.smith@domain.tld"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"motdepasse"}},[t._v("Mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.motdepasse,expression:"motdepasse"}],staticClass:"form-control",attrs:{type:"password",id:"motdepasse",placeholder:"************"},domProps:{value:t.motdepasse},on:{input:function(e){e.target.composing||(t.motdepasse=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"motdepasse_confirmation"}},[t._v("Confirmez le mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.motdepasse_confirmation,expression:"motdepasse_confirmation"}],staticClass:"form-control",attrs:{type:"password",id:"motdepasse_confirmation",placeholder:"************"},domProps:{value:t.motdepasse_confirmation},on:{input:function(e){e.target.composing||(t.motdepasse_confirmation=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Créer un compte")])]),a("p",{staticClass:"mt-3"},[a("router-link",{attrs:{to:"/login"}},[t._v("J'ai déjà un compte")])],1)])},M=[],D={name:"Register",data:function(){return{nom:"",prenom:"",email:"",motdepasse:"",motdepasse_confirmation:"",errors:null,success:null}},methods:{registerUser:function(){var t=this;this.errors=null,this.success=null,F.a.post("http://localhost:9000/register",{firstname:this.prenom,lastname:this.nom,email:this.email,password:this.motdepasse,password_confirmation:this.motdepasse_confirmation}).then(function(e){t.success=e.data.message}).catch(function(e){t.errors=e.response.data})}}},R=D,P=Object(u["a"])(R,N,M,!1,null,null,null);P.options.__file="Register.vue";var E=P.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container"},[a("h1",[t._v("Bienvenue "),t.loggedUser?a("span",[t._v(t._s(t.loggedUser.firstname)+" "+t._s(t.loggedUser.lastname))]):t._e()]),a("p",[t._v("Recherchez un titre sur Deezer en utilisant le formulaire suivant :")]),a("hr"),a("form",{on:{submit:function(e){return e.preventDefault(),t.searchForm(e)}}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-2 col-form-label text-right",attrs:{for:"searchText"}},[t._v("Recherche :")]),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",id:"searchText",placeholder:"Eminem, Armin Van Buuren, Rihanna, ..."},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}})]),a("label",{staticClass:"col-sm-2 col-form-label text-right",attrs:{for:"searchText"}},[t._v("Trier par :")]),a("div",{staticClass:"col-sm-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchOrder,expression:"searchOrder"}],staticClass:"custom-select",attrs:{id:"order"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.searchOrder=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"ALBUM_ASC"}},[t._v("Album")]),a("option",{attrs:{value:"ARTIST_ASC"}},[t._v("Artiste")]),a("option",{attrs:{value:"TRACK_ASC"}},[t._v("Musique")]),a("option",{attrs:{value:"RANKING"}},[t._v("Les plus populaires")]),a("option",{attrs:{value:"RATING_ASC"}},[t._v("Les mieux notés")])])]),t._m(0)])]),a("hr"),t.searchResults.length>0?a("h2",[t._v("Résultats")]):t._e(),a("div",{staticClass:"card-deck search-results"},t._l(t.searchResults,function(e){return a("div",{key:e.id,staticClass:"card"},[a("router-link",{attrs:{to:{name:"track",params:{id:e.id}}}},[a("img",{staticClass:"card-img-top",attrs:{src:e.album.cover_big,alt:"Card image cap"}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[a("router-link",{attrs:{to:{name:"track",params:{id:e.id}}}},[t._v(t._s(e.title))])],1),a("p",{staticClass:"card-text"},[t._v(t._s(e.artist.name)+" / "+t._s(e.album.title))]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted"},[t._v("Durée : "+t._s(t._f("toMinutes")(e.duration)))])])]),a("div",{staticClass:"card-footer"},[a("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:{name:"album",params:{id:e.album.id}}}},[a("i",{staticClass:"fa fa-cc-discover"}),t._v(" Album\n        ")]),a("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:{name:"artist",params:{id:e.artist.id}}}},[a("i",{staticClass:"fa fa-user"}),t._v(" Artiste\n        ")]),a("a",{staticClass:"btn btn-sm",class:{"btn-outline-danger":!t.userFavorites.find(function(t){return t.id===e.id}),"btn-danger":t.userFavorites.find(function(t){return t.id===e.id})},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.toggleFavorite(e)}}},[a("i",{staticClass:"fa",class:{"fa-heart-o":!t.userFavorites.find(function(t){return t.id===e.id}),"fa-heart":t.userFavorites.find(function(t){return t.id===e.id})}})])],1)],1)}))])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-2 text-right"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Go"}})])}],J=(a("7514"),a("be94")),B=a("d871"),L=a.n(B),G=a("2f62"),V={name:"Search",data:function(){return{}},computed:Object(J["a"])({},Object(G["d"])(["loggedUser","searchResults"]),Object(G["b"])(["userFavorites"]),{searchText:{get:function(){return this.$store.state.searchText},set:function(t){return this.setSearchText(t)}},searchOrder:{get:function(){return this.$store.state.searchOrder},set:function(t){return this.setSearchOrder(t)}}}),methods:Object(J["a"])({},Object(G["c"])(["setSearchResult","setSearchText","setSearchOrder"]),{searchForm:function(){var t=this;L()("https://api.deezer.com/search?q=".concat(encodeURIComponent(this.searchText),"&output=jsonp&order=").concat(this.searchOrder)).then(function(t){return t.json()}).then(function(e){var a=e.data;t.setSearchResult(a)})},toggleFavorite:function(t){var e=this.userFavorites.find(function(e){return e.id===t.id});e?this.$store.dispatch("removeFavorite",t):this.$store.dispatch("addFavorite",t)}})},W=V,H=Object(u["a"])(W,I,q,!1,null,null,null);H.options.__file="Search.vue";var K=H.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.track?a("main",{staticClass:"container"},[a("h1",[a("span",{staticClass:"badge badge-primary"},[t._v("Track")]),t._v(" "+t._s(t.track.title))]),a("hr"),a("audio",{staticClass:"col",attrs:{src:t.track.preview,controls:""}}),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[t._v("Date de sortie : "+t._s(t.track.release_date))]),a("li",{staticClass:"list-group-item"},[t._v("Durée totale : "+t._s(t._f("toMinutes")(t.track.duration)))]),a("li",{staticClass:"list-group-item"},[t._v("Rang : #"+t._s(t.track.rank))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("h2",[t._v("Album")]),a("div",{staticClass:"media"},[a("img",{staticClass:"align-self-start mr-3 img-thumbnail",attrs:{src:t.track.album.cover,alt:t.track.album.title}}),a("div",{staticClass:"media-body"},[a("h3",{staticClass:"mt-0"},[t._v(t._s(t.track.album.title))]),a("p",[t._v("Date de sortie : "+t._s(t.track.album.release_date))]),a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"album",params:{id:t.track.album.id}}}},[t._v("Consulter l'album")])],1)])]),a("div",{staticClass:"col-sm"},[a("h2",[t._v("Artiste")]),a("div",{staticClass:"media"},[a("img",{staticClass:"align-self-start mr-3 img-thumbnail",attrs:{src:t.track.artist.picture,alt:t.track.artist.name}}),a("div",{staticClass:"media-body"},[a("h3",{staticClass:"mt-0"},[t._v(t._s(t.track.artist.name))]),a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"artist",params:{id:t.track.artist.id}}}},[t._v("Voir l'artiste")])],1)])])]),a("hr"),a("div",{staticClass:"row mt-5"},[void 0===t.userFavorites.find(function(e){return e.id===t.track.id})?a("button",{staticClass:"btn btn-lg btn-outline-danger",on:{click:function(e){t.toggleFavorite(t.track)}}},[a("i",{staticClass:"fa fa-heart"}),t._v(" Ajouter aux favoris\n    ")]):a("button",{staticClass:"btn btn-lg btn-danger",on:{click:function(e){t.toggleFavorite(t.track)}}},[a("i",{staticClass:"fa fa-heart-o"}),t._v(" Retirer des favoris\n    ")])])]):t._e()},X=[],Y={name:"Track",data:function(){return{track:null}},computed:Object(J["a"])({},Object(G["b"])(["userFavorites"])),methods:{toggleFavorite:function(t){var e=this.userFavorites.find(function(e){return e.id===t.id});e?this.$store.dispatch("removeFavorite",t):this.$store.dispatch("addFavorite",t)}},created:function(){var t=this;L()("https://api.deezer.com/track/".concat(this.$route.params.id,"?output=jsonp")).then(function(t){return t.json()}).then(function(e){t.track=e})}},Z=Y,tt=(a("d836"),Object(u["a"])(Z,Q,X,!1,null,"2b0509dc",null));tt.options.__file="Track.vue";var et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.album?a("main",{staticClass:"container"},[a("h1",[a("span",{staticClass:"badge badge-primary"},[t._v(t._s("single"===t.album.record_type?"Single":"Album"))]),t._v(" "+t._s(t.album.title))]),a("hr"),a("p",[t._v("\n    Artiste : "),a("router-link",{attrs:{to:{name:"artist",params:{id:t.album.artist.id}}}},[t._v(t._s(t.album.artist.name))]),t._v(" /\n    Date de sortie : "),a("strong",[t._v(t._s(t.album.release_date))]),t._v(" /\n    Durée totale : "),a("strong",[t._v(t._s(t._f("toMinutes")(t.album.duration)))])],1),a("hr"),a("div",{staticClass:"media"},[a("img",{staticClass:"align-self-start mr-3 img-thumbnail",attrs:{src:t.album.cover_medium,alt:t.album.title}}),a("div",{staticClass:"media-body"},[a("ul",{staticClass:"list-group list-group-flush"},t._l(t.album.tracks.data,function(e,r){return a("li",{key:e.id,staticClass:"list-group-item"},[t._v("\n          "+t._s(r+1)+".\n          "),a("router-link",{attrs:{to:{name:"track",params:{id:e.id}}}},[t._v(t._s(e.title))]),a("span",{staticClass:"badge badge-light"},[t._v(t._s(t._f("toMinutes")(e.duration)))])],1)}))])])]):t._e()},rt=[],st={name:"Album",data:function(){return{album:null}},created:function(){var t=this;L()("https://api.deezer.com/album/".concat(this.$route.params.id,"?output=jsonp")).then(function(t){return t.json()}).then(function(e){t.album=e})}},nt=st,it=(a("ddcc"),Object(u["a"])(nt,at,rt,!1,null,"879ec9cc",null));it.options.__file="Album.vue";var ot=it.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.artist?a("main",{staticClass:"container"},[a("h1",[a("span",{staticClass:"badge badge-primary"},[t._v("Artiste")]),t._v(" "+t._s(t.artist.name))]),a("hr"),a("div",{staticClass:"media"},[a("img",{staticClass:"align-self-start mr-3 img-thumbnail",attrs:{src:t.artist.picture_medium,alt:t.artist.name}}),a("div",{staticClass:"media-body"},[a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[t._v("Nombre d'albums : "+t._s(t.artist.nb_album))]),a("li",{staticClass:"list-group-item"},[t._v("Nombre de fans : "+t._s(t.artist.nb_fan))])]),a("a",{staticClass:"btn btn-info btn-lg",attrs:{href:t.artist.link,target:"_blank"}},[t._v("Plus de détails sur Deezer")])])])]):t._e()},ct=[],ut={name:"Artist",data:function(){return{artist:null}},created:function(){var t=this;L()("https://api.deezer.com/artist/".concat(this.$route.params.id,"?output=jsonp")).then(function(t){return t.json()}).then(function(e){t.artist=e})}},mt=ut,dt=(a("5bf4"),Object(u["a"])(mt,lt,ct,!1,null,"a385fbfe",null));dt.options.__file="Artist.vue";var vt=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container"},[a("h1",[t._v("Mes favoris")]),a("hr"),t._l(t.userFavorites,function(e){return a("ul",{key:e.id,staticClass:"list-unstyled"},[a("li",{staticClass:"media"},[a("img",{staticClass:"mr-3",attrs:{src:e.album.cover,alt:e.album.title}}),a("div",{staticClass:"media-body"},[a("router-link",{attrs:{to:{name:"track",params:{id:e.id}}}},[a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))])]),t._v("\n            "+t._s(e.artist.name)+" / "+t._s(e.album.title)+"\n            "),a("div",{staticClass:"actions"},[a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.removeFavorite(e)}}},[t._v("Supprimer des favoris")])])],1)])])}),0===t.userFavorites.length?a("p",[t._v("\n    Vous n'avez pas encore ajouté de favoris à votre liste.\n    Commencez par "),a("router-link",{attrs:{to:"/search"}},[t._v("faire une recherche de chansons")]),t._v(".\n  ")],1):t._e()],2)},ft=[],ht={name:"Favorites",computed:{userFavorites:function(){return this.$store.getters.userFavorites}},methods:{removeFavorite:function(t){this.$store.dispatch("removeFavorite",t)}}},gt=ht,bt=(a("31e4"),Object(u["a"])(gt,pt,ft,!1,null,"669bda55",null));bt.options.__file="Favorites.vue";var _t=bt.exports;a("20d6");r["a"].use(G["a"]);var Ct=new G["a"].Store({state:{loggedUser:null,searchResults:[],searchText:"",searchOrder:""},getters:{userFavorites:function(t){return t.loggedUser?t.loggedUser.favorites:[]}},actions:{logUserWithToken:function(t,e){return U.authenticate(e).then(function(e){t.commit("changeUser",e)}).catch(function(t){console.warn(t)})},logoutUser:function(t){t.commit("changeUser",null)},removeFavorite:function(t,e){U.removeFavorite(e).then(function(){t.commit("removeUserFavorite",e)}).catch(function(t){console.error(t)})},addFavorite:function(t,e){U.addFavorite(e).then(function(){t.commit("addUserFavorite",e)}).catch(function(t){console.error(t)})}},mutations:{changeUser:function(t,e){t.loggedUser=e},removeUserFavorite:function(t,e){var a=t.loggedUser.favorites.findIndex(function(t){return t.id===e.id});t.loggedUser.favorites.splice(a,1)},addUserFavorite:function(t,e){t.loggedUser.favorites.push({id:e.id,title:e.title,artist:{name:e.artist.name},album:{title:e.album.title,cover:e.album.cover}})},setSearchResult:function(t,e){t.searchResults=e},setSearchText:function(t,e){t.searchText=e},setSearchOrder:function(t,e){t.searchOrder=e}}});r["a"].use(g["a"]);var kt=new g["a"]({routes:[{path:"/",name:"home",component:x},{path:"/login",name:"login",component:$,meta:{requiresNoAuth:!0}},{path:"/register",name:"register",component:E,meta:{requiresNoAuth:!0}},{path:"/search",name:"search",component:K,meta:{requiresAuth:!0}},{path:"/track/:id",name:"track",component:et,meta:{requiresAuth:!0}},{path:"/album/:id",name:"album",component:ot,meta:{requiresAuth:!0}},{path:"/artist/:id",name:"artist",component:vt,meta:{requiresAuth:!0}},{path:"/favorites",name:"favorites",component:_t,meta:{requiresAuth:!0}},{path:"/logout",name:"logout",beforeEnter:function(){localStorage.removeItem("deezweb-auth-jwt"),Ct.dispatch("logoutUser"),kt.replace({name:"home"})}}]});kt.beforeEach(function(t,e,a){var r=localStorage.getItem("deezweb-auth-jwt");if(t.matched.some(function(t){return t.meta.requiresAuth})){if(null===r||""===r.trim())return a({path:"/login"})}else if(t.matched.some(function(t){return t.meta.requiresNoAuth})&&null!==r)return a({path:"/search"});return a()});var wt=kt;function xt(t){var e=t%60;return"".concat(Math.floor(t/60)," min ").concat(e)}r["a"].config.productionTip=!1,r["a"].filter("toMinutes",xt),new r["a"]({router:wt,store:Ct,render:function(t){return t(h)}}).$mount("#app")},"5bf4":function(t,e,a){"use strict";var r=a("df00"),s=a.n(r);s.a},"64a9":function(t,e,a){},"8b5c":function(t,e,a){},d836:function(t,e,a){"use strict";var r=a("ed83"),s=a.n(r);s.a},ddcc:function(t,e,a){"use strict";var r=a("3b8f"),s=a.n(r);s.a},df00:function(t,e,a){},dfc6:function(t,e,a){},ed83:function(t,e,a){}});
//# sourceMappingURL=app.670d316a.js.map